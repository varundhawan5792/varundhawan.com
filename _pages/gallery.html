---
layout: default
title: Gallery
permalink: /gallery
order: 2
---
<div class="post-header" style="margin-bottom: 30px;">
    <h1 class="post-title">Gallery</h1>
    Shot on Pixel 4XL and edited on Snapseed or Lightroom.
</div>

<div id="instafeed" class="insta-gallery">
{% jekyllgram 15 %}
  <div class="photo">
    <div class="cover">
        {%- if photo.media_type == "IMAGE" or photo.media_type == "CAROUSEL_ALBUM" -%}
        <img src="{{ photo.media_url }}" id="IG-img-{{ photo.id }}" />
        {%- else-%}
        <img src="{{ photo.thumbnail_url }}" id="IG-img-{{ photo.id }}" />
        {%- endif -%}
    </div>
    <div class="meta">
        <div class="caption">{{ photo.caption }}</div>
        <div class="likes">{{ photo.likes }}</div>
    </div>
    <a class="link" href="{{ photo.permalink }}" id="IG-{{ photo.id }}"></a>
  </div>
  
{% endjekyllgram %}
</div>
<br/>
<div class="text-center">
    Hop on to <a href="https://www.instagram.com/__varundhawan">my Instagram</a> for more
</div>
<br/>
<script type="text/javascript">
    // document.getElementById("instafeed").childNodes.forEach(function(o, i){
    //     setTimeout(function(){
    //     o.style.opacity = 1; 
    //     }, (i+1)*45)
    // })
    Array.from(document.getElementsByClassName("cover")).forEach(function(o, i){
        var imgEle = o.childNodes[0];
        var imgSrc = imgEle.src;
        var imgID = imgEle.id;
        imgEle.src="";
        var img = new Image();
        img.onload = function(){
            // this gets run once the image has finished downloading
            document.getElementById(imgID).src = imgSrc;
            imgEle.parentNode.style.transitionDelay = String(i*0.1) + 's';
            imgEle.parentNode.style.opacity = 1;
        }
        img.src = imgSrc; // this causes the image to get downloaded in the background
        // img.parentNode.style.opacity=1;
        // // console.log(img);
        // img.onload = function(i){
        //     console.log("Image loaded")
        //     console.log(i.target)
        //     i.target.parentNode.style.opacity = 1;
        // }
    })
</script>